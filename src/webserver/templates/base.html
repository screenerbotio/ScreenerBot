<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{TITLE}} - ScreenerBot</title>
    <script src="https://unpkg.com/lightweight-charts@4.2.1/dist/lightweight-charts.standalone.production.js"></script>
    <style>
      /*__INJECTED_STYLES__*/
    </style>
  </head>

  <body>
    <div class="header">
      <h1>ü§ñ ScreenerBot Dashboard</h1>
      <div class="header-controls">
        <button class="control-btn trader-btn" id="traderToggle" aria-label="Toggle trader">
          <span id="traderIcon">‚è∏Ô∏è</span>
          <span id="traderText">Stop Trader</span>
        </button>
        <button class="control-btn reboot-btn" id="rebootBtn" aria-label="Reboot system">
          <span>üîÑ</span>
          <span>Reboot</span>
        </button>
        <div class="refresh-interval-control">
          <label
            for="refreshInterval"
            style="font-size: 0.85rem; color: var(--text-secondary); margin-right: 4px"
            >‚è±Ô∏è</label
          >
          <select
            id="refreshInterval"
            class="refresh-interval-dropdown"
            aria-label="Refresh interval"
          >
            <option value="1000">1s</option>
            <option value="2000">2s</option>
            <option value="3000">3s</option>
            <option value="5000">5s</option>
            <option value="10000">10s</option>
            <option value="15000">15s</option>
            <option value="30000">30s</option>
            <option value="60000">1m</option>
          </select>
        </div>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
          <span id="themeIcon">üåô</span>
          <span id="themeText">Dark</span>
        </button>
        <div class="status-indicator">
          <div style="display: flex; gap: 8px; align-items: center">
            <span id="botBadge" class="badge loading" title="Bot Status">ü§ñ BOT</span>
          </div>
        </div>
      </div>
    </div>

    <nav class="tabs">{{NAV_TABS}}</nav>

    <!-- Sub-tabs container (populated dynamically per page) -->
    <div id="subTabsContainer" class="sub-tabs-container" style="display: none">
      <!-- Sub-tabs will be injected here by page-specific JavaScript -->
    </div>

    <!-- Toolbar container (for action buttons below sub-tabs) -->
    <div id="toolbarContainer" class="toolbar-container" style="display: none">
      <!-- Toolbar buttons will be injected here by page-specific JavaScript -->
    </div>

    <main class="content">{{CONTENT}}</main>

    <script>
      window.__PAGE_STYLES__ = {};
      /*__PAGE_STYLES__*/
    </script>

    <!-- Core ES Modules - Loaded as external files for proper import resolution -->
    <script type="module" src="/scripts/core/lifecycle.js"></script>
    <script type="module" src="/scripts/core/app_state.js"></script>
    <script type="module" src="/scripts/core/poller.js"></script>
    <script type="module" src="/scripts/core/dom.js"></script>
    <script type="module" src="/scripts/core/utils.js"></script>
    <script type="module" src="/scripts/core/router.js"></script>
    <script type="module" src="/scripts/core/header.js"></script>

    <!-- Theme toggle (non-module) -->
    <script>
      /*__THEME_SCRIPTS__*/
    </script>
  </body>
</html>
