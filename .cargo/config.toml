# Cargo configuration for ScreenerBot
# Platform-specific settings are configured by each build script

# Linux x86_64 cross-compilation settings (used by build-vm-linux.sh)
[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=lld"]

# Linux ARM64 cross-compilation settings
[target.aarch64-unknown-linux-gnu]
linker = "aarch64-linux-gnu-gcc"

# Windows ARM64 cross-compilation settings
# Use LLD linker to avoid MSVC link.exe command-line length limits (~32KB)
# LLD handles large projects with many dependencies better
[target.aarch64-pc-windows-msvc]
linker = "C:\\Program Files\\LLVM\\bin\\lld-link.exe"

# Android ARM64 (aarch64) - primary target for modern devices
[target.aarch64-linux-android]
linker = "/usr/local/share/android-commandlinetools/ndk/27.0.12077973/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android34-clang"

# Android ARM32 (armv7)
[target.armv7-linux-androideabi]
linker = "/usr/local/share/android-commandlinetools/ndk/27.0.12077973/toolchains/llvm/prebuilt/darwin-x86_64/bin/armv7a-linux-androideabi34-clang"

# Android x86_64 (for emulators)
[target.x86_64-linux-android]
linker = "/usr/local/share/android-commandlinetools/ndk/27.0.12077973/toolchains/llvm/prebuilt/darwin-x86_64/bin/x86_64-linux-android34-clang"

# Android i686 (for older emulators)
[target.i686-linux-android]
linker = "/usr/local/share/android-commandlinetools/ndk/27.0.12077973/toolchains/llvm/prebuilt/darwin-x86_64/bin/i686-linux-android34-clang"

# Note: CC/CXX environment variables are set by each build script as needed
# Do not set global [env] CC/CXX here as it breaks cross-platform builds
